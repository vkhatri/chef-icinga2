{"name":"Chef Icinga2","tagline":"Chef Cookbook to Manage Icinga2 Server","body":"icinga2 Cookbook\r\n==================\r\n\r\n[![Build Status](https://travis-ci.org/vkhatri/chef-icinga2.svg?branch=master)](https://travis-ci.org/vkhatri/chef-icinga2)\r\n\r\nThis is a [Chef] cookbook to manage [Icinga2] using Chef LWRP.\r\n\r\n\r\nMore features and attributes will be added over time, **feel free to contribute**\r\nwhat you find missing!\r\n\r\n\r\n## Repository\r\n\r\nhttps://github.com/vkhatri/chef-icinga2\r\n\r\n\r\n## Recipes\r\n\r\n- `icinga2::default`     \t- does not do anything, used for LWRP usage\r\n\r\n- `icinga2::server`  \t\t- install & configure icinga2 server with default incinga Objects\r\n\r\n- `icinga2::server_apache`\t\t- manages apache and icinga2 classic ui / web / web2 vhost using `apache2` cookbook\r\n\r\n- `icinga2::server_os_packages`   \t\t- install os packages for icinga2\r\n\r\n- `icinga2::server_install`   \t\t- install icinga2 core/ido server packages\r\n\r\n- `icinga2::server_core`   \t\t\t- configures icinga2 core configuration files & directories\r\n\r\n- `icinga2::server_features`   \t\t- enable/disable icinga2 features\r\n\r\n- `icinga2::server_ido_schema`   \t\t- load icinga2 ido db schema\r\n\r\n- `icinga2::server_classic_ui`   \t\t- configures icinga2 classic ui\r\n\r\n- `icinga2::server_web2`   \t\t- configures icingaweb2\r\n\r\n- `icinga2::server_pnp`   \t\t- configures pnp4nagios for icinga2\r\n\r\n- `icinga2::server_objects`   \t\t- manages icinga2 default objects/templates objects if `node['icinga2']['disable_conf_d']` is set in which case `conf.d` objects config is not included in `icinga2.conf` and objects are created using LWRP\r\n\r\n- `icinga2::server_object_host`   \t- creates icinga2 `generic-host` `Host` template\r\n\r\n- `icinga2::server_object_notificationcommand`   - creates icinga2 default `NotificationCommand` objects\r\n\r\n- `icinga2::server_object_service`   \t\t- creates icinga2 default`generic-service` `Service`  templates\r\n\r\n- `icinga2::server_object_timeperiod`   \t- creates icinga2 default `TimePeriod` objects\r\n\r\n- `icinga2::server_object_user`   \t\t\t- creates icinga2 `generic-user` `User` template and `icingaadmin` `User` object\r\n\r\n- `icinga2::server_object_usergroup`   \t- creates icinga2 `icingaadmins` `UserGroup` object\r\n\r\n\r\n## Attributes\r\n\r\n- `icinga2::default` \t\t\t- icinga2 server default attributes file\r\n\r\n- `icinga2::repo`\t\t\t\t- icinga2 yum/apt repositories file for packages install\r\n\r\n- `icinga2::server_classic_ui` - icinga2 server classic ui default attributes file\r\n\r\n- `icinga2::server_constants`\t- icinga2 server constants parameters file\r\n\r\n- `icinga2::server_objects`\t\t- icinga2 objects default attributes file\r\n\r\n- `icinga2::server_ido`\t\t- icinga2 ido db default attributes file\r\n\r\n- `icinga2::server_web2`\t\t- icinga2 web2 ui default attributes file\r\n\r\n\r\n\r\n## Supported Icinga Version\r\n\r\nThis cookbook is being developed for Icinga2 - v2.2.x primarily on Amazon Platform (EPEL Release 6 Package).\r\n\r\n\r\n## Supported Icinga2 Install Types\r\n\r\nCurrently Icinga2 installation is supported **ONLY** via Repository Packages, as it is a recommended best practice.\r\n\r\n\r\n## Icinga2 Server Setup\r\n\r\nTo setup icinga2 server on a node, add recipe `icinga2::server` which will install necessary packages and configuration files.\r\n\r\n\r\n## Icing2 with PNP4Nagios\r\n\r\nRecipe `icinga2::server_pnp` setup and configures `PNP4Nagios` along with `rrdtool`.\r\n\r\nSimply add recipe `icinga2::server_pnp` to icinga2 server `run_list` to setup `PNP4Nagios` along with `rrdcached`.\r\n\r\nFor PNP4Nagios cookbook `pnp4nagios` is used and for RRDTool cookbook `rrdtool` is used.\r\n\r\n\r\n## Icinga2 Agent Client\r\n\r\nNRPE Client recipe was removed from this cookbook in favor of `nrpe` cookbook.\r\n\r\nIcinga2 Agent setup will be added soon.\r\n\r\n\r\n## Icinga2 Web / Classic UI engine\r\n\r\nCurrently this cookbook only supports `Apache` as Web engine and configuration is managed by cookbook `apache2`.\r\n\r\nWeb engine is configurable by node attribute `node['icinga2']['web_engine']`, defaults to `apache`.\r\n\r\n\r\n\r\n## Icinga2 Classic UI\r\n\r\nIcinga2 Classic UI is enabled by default and set as default UI.\r\n\r\nHowever, Classic UI can be disabled by attribute `node['icinga2']['classic_ui']['enable']`.\r\n\r\n\r\n**How to add users for icinga2 Classic UI**\r\n\r\nIcinga2 Classic UI users is controlled by node Hash attribute `node['icinga2']['classic_ui']['users']`. This attribute accepts a `Hash` of `username => htpasswd(passwd)`, so that password is not available in plain text.\r\n\r\nBy default `icingaadmin` user is added with password `icingaadmin`:\r\n\r\n\tdefault['icinga2']['classic_ui']['users'] = {\r\n\t  'icingaadmin' => '$apr1$MZtKRLAy$AV9OiJ.V/mI9g30bHn9ol1'\r\n\t}\r\n\r\nThis can be overrided in wrapper cookbook or role or environment.\r\n\r\nTo add more users for icigna2 Classic UI auth, add new users to Hash attribute in the same wasy `icingaadmin` user is added\r\n\r\n\tdefault['icinga2']['classic_ui']['users']['user_name'] = '$apr1$MZtKRLAy$AV9OiJ.V/mI9g30bHn9ol1'\r\n\r\n**Icinga2 Classic UI Authorization**\r\n\r\n\r\nIcigna2 Classic UI User authorization is managed by below node Arrary attributes:\r\n\r\n\tnode['icinga2']['classic_ui']['authorized_for_system_information']\r\n\tnode['icinga2']['classic_ui']['authorized_for_configuration_information']\r\n\tnode['icinga2']['classic_ui']['authorized_for_full_command_resolution']\r\n\tnode['icinga2']['classic_ui']['authorized_for_system_commands']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_services']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_hosts']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_service_commands']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_host_commands']\r\n\r\nBy simply adding users to above attributes will provide necessary access to the UI.\r\n\r\n\r\n\r\n**How to add a guest user**\r\n\r\nTo add a guest user without any admin privileges, first add a `guest` user (with password `guest`)\r\n\r\n\tdefault['icinga2']['classic_ui']['users']['guest'] = '$apr1$cA/eVUgT$aIoWUPwV5uONJoYslb7lg0'\r\n\r\nThen authorize `guest` user to view `Host/Service` status\r\n\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_services'] = %w(icingaadmin guest)\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_hosts'] = %w(icingaadmin guest)\r\n\r\n\r\n\r\n**How to add an admin user**\r\n\r\nTo make a user `admin`, add the user to below node attributes:\r\n\r\n\tnode['icinga2']['classic_ui']['authorized_for_system_information']\r\n\tnode['icinga2']['classic_ui']['authorized_for_configuration_information']\r\n\tnode['icinga2']['classic_ui']['authorized_for_full_command_resolution']\r\n\tnode['icinga2']['classic_ui']['authorized_for_system_commands']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_services']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_hosts']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_service_commands']\r\n\tnode['icinga2']['classic_ui']['authorized_for_all_host_commands']\r\n\r\n\r\n## Icinga2 Server IDO Schema Load\r\n\r\nIcinga2 IDO setup & feature is disabled by default. It can be enabled by configuring node attribute `node['icinga2']['ido']['load_schema']`.\r\n\r\nRecipe `icinga::server_ido_schema` only create DB schema, it does not create database or user or grants etc.\r\n\r\nIDO schema files are stored by default under directory `/usr/share/icinga2-ido-mysql` and `/usr/share/icinga2-ido-pgsql`.\r\n\r\nIcinga2 IDO type is configurable by node attribute `node['icinga2']['ido']['type']`, which can be configured to `mysql` or `pgsql`.\r\n\r\n>> ido pgsql schema upload is not fully tested, please open an issue if encounter any problem.\r\n\r\n\r\n## Icinga Web2 Setup\r\n\r\nIcingaweb2 is not enabled by default. It can be enabled by configuring node attribute `node['icinga2']['web2']['enable']`.\r\n\r\nIcingaweb2 can also be enabled by including recipe `icinga2::server_web2` to node `run_list`.\r\n\r\nRecipe `icinga::server_web2` configures below items.\r\n\r\n- create config directory `/etc/icingaweb2`\r\n- create token file `/etc/icingaweb2/setup.token`\r\n- create log directory `/var/log/icingaweb2`\r\n\r\nRest of the configuration can be completed by berowsing icingaweb2 Web UI `http://server/icingaweb`.\r\n\r\n\r\n## Icinga2 Cluster Deployment\r\n\r\nIcinga2 Distributed / HA cluster setup examples will be added soon.\r\n\r\n\r\n\r\n## Icinga2 Monitor a Chef Environment Nodes\r\n\r\nThis cookbook does not only provide management of Icinga2 server & objects, it also provides\r\nautomation around Chef environment.\r\n\r\nUsing LWRP `environment` a whole environment nodes can be added to `Host` objects with environment wide `Host` object parameters.\r\n\r\nThere are certain functionalities added to LWRP `environment`, like:\r\n\r\n- define icinga2 `Host` parameters for an entire environment\r\n\r\n- auto create `HostGroup` object for an entire chef environment\r\n\r\n- auto create `HostGroup` object for node's `application` attribute to group nodes for an entire chef environment `application` type\r\n\r\n- auto create `HostGroup` object for node's `cluster` attribute to group nodes for a chef environment `cluster`\r\n\r\n- auto add chef node Cloud attributes as `Host` custom `vars`, currently only AWS EC2 attributes are supported, but is easy to extend the suport to other cloud providers\r\n\r\n- auto create `HostGroup` list for a chef environment node\r\n\r\n- limit a chef environment spreaded across multiple regions to icinga2 server region, e.g. in multi region ec2 production environment, one would want to setup an icinga2 server in region `us-east-1` just to monitor `us-east-1` nodes, but not the production nodes of other regions, like `ap-southeast-1`\r\n\r\n- allow chef node to determine `host.address` from `node['fqdn']` DNS resolution instead of `node['ipaddress']` and either ignore chef node if failed to resolve DNS or fallback to use `node['ipaddress']` as `host.address`\r\n\r\n- exclude a node by `run_list` role, not yet tested\r\n\r\n- exclude a node by `run_list` role, not yet tested\r\n\r\n- filter chef node if match certain node attributes\r\n\r\n- override an environment and use an entire different `search_pattern`, this feature extends LWRP `environment` functionality to select nodes by a user given search pattern\r\n\r\n- `Host` object attribute `disply_name` is set to chef node hostname\r\n\r\n\r\nSimply create a LWRP resource for a chef environment, to start monitoring all nodes in that environment. More details can be found in examples.\r\n\r\n\r\n## Icinga2 Host Custom Vars\r\n\r\n**environment LWRP Host Vars**\r\n\r\nLWRP `environment` resources sets Host custom vars for each node via node `Hash` attribute -\r\n`node['icinga2']['client']['custom_vars']`. All defined `vars` will be added to `Host` object.\r\n\r\n\r\n**host LWRP Host Vars**\r\n\r\nWhen using `icinga2_host` LWRP, node custom vars will not be added automatically. There will be no search performed as the `Host` object could be different than a chef `Node`.\r\n\r\nTo add `Host` custom vars, use Hash attribute `custom_vars`.\r\n\r\nA resource attribute will be added to `icinga2_host` LWRP to perform a search to fetch custom vars defined for a node, so that manual addition is not required.\r\n\r\n\r\n## icinga2 User Defined Objects / Configuration\r\n\r\nA configuration directory is created under `/etc/icinga2` for user to put configuration not default to `icinga2` or LWRP.\r\n\r\nDirectory name is configurable using node attribute `node['icinga2']['user_defined_objects_d']`.\r\n\r\nThis is just to keep user custom defined configuration, it is included in `icinga2.conf`.\r\n\r\n\r\n## LWRP Examples\r\n\r\nDifferent LWRP usage examples are added to `examples` directory.\r\n\r\nTo configure icinga2 server, check `examples/icinga2_server` directory. More examples will be added as we go.\r\n\r\n\r\n## LWRP 'assign where' and 'ignore where' statements\r\n\r\n**assign where (icinga) == assign_where (LWRP)**\r\n\r\n**ignore where (icinga) == ignore_where (LWRP)**\r\n\r\n`assign where` statements are defined as a LWRP resource `Array` attribute -`assign_where`. Each aray element is treated as a different `assign where` statement and LWRP creates a separate statement.\r\n\r\ne.g.\r\n\r\n\tassign_where ['host.address',\r\n\t  'host.vars.nrpe && host.vars.enable_check',\r\n\t  'host.vars.application == \"redis\"'\r\n\t]\r\n\r\nAbove LWRP resource will be applied to an `Object` as shown below:\r\n\r\n\tassign where host.address\r\n\tassign where host.vars.nrpe && host.vars.enable_check\r\n\tassign where host.vars.application == \"redis\"\r\n\r\n\r\nSimilarly, `ignore where` statements are configured using LWRP resoruce `Array` attribute `ignore_where`.\r\n\r\n\r\n\r\n## icinga2 LWRP Resources\r\n\r\nCurrently icinga2 cookbook supports below Objects LWRP Resources:\r\n\r\n- icinga2_apilistener\r\n- icinga2_applynotification\r\n- icinga2_applyservice\r\n- icinga2_checkcommand\r\n- icinga2_endpoint\r\n- icinga2_envhostgroup\r\n- icinga2_environment\r\n- icinga2_eventcommand\r\n- icinga2_externalcommandlistener\r\n- icinga2_feature\r\n- icinga2_gelfwriter\r\n- icinga2_graphitewriter\r\n- icinga2_host\r\n- icinga2_hostgroup\r\n- icinga2_idomysqlconnection\r\n- icinga2_idopgsqlconnection\r\n- icinga2_notification\r\n- icinga2_notificationcommand\r\n- icinga2_scheduleddowntime\r\n- icinga2_service\r\n- icinga2_servicegroup\r\n- icinga2_sysloglogger\r\n- icinga2_timeperiod\r\n- icinga2_user\r\n- icinga2_usergroup\r\n- icinga2_zone\r\n\r\n- icinga2_livestatuslistener\r\n- icinga2_statusdatawriter\r\n- icinga2_compatlogger\r\n- icinga2_checkresultreader\r\n- icinga2_checkercomponent\r\n- icinga2_notificationcomponent\r\n- icinga2_filelogger\r\n- icinga2_perfdatawriter\r\n\r\n\r\nNote:\r\n\r\n* Few of LWRP attributes which are required to create an icinga2 Object are not declared `:required => true` in LWRP in favour of creating icinga2 Object template.\r\n\r\n* Same LWRP resource used to create icinga2 `Object`, can also be used to create icinga2 `Template` as well.\r\n\r\n* Few of LWRP resource attributes which refers to icinga2 `constants` or can refer to `constants` are treated as literal `String`. It means they will not be transformed into ruby `String` by LWRP while creating configutation file.\r\n\r\ne.g.\r\n\r\nBelow attribute definition generate correct syntax for `ApiListener` LWRP attribute `cert_path`:\r\n\r\n\t    cert_path 'SysConf + \"/icinga2/pki/\" + NodeName + \".crt\"'\r\n\r\n\t    will transform to:\r\n\r\n    \tcert_path SysConf + \"/icinga2/pki/\" + NodeName + \".crt\"\r\n\r\n\r\nWhile below attribute definition generate incorrect syntax:\r\n\r\n\t\tcert_path 'SysConf + /icinga2/pki/ + NodeName + .crt'\r\n\r\n\t\twill transform to\r\n\r\n    \tcert_path SysConf + /icinga2/pki/ + NodeName + .crt\r\n\r\n\r\n## icinga2 LWRP Resources Generated Object/Template File\r\n\r\n\r\n**LWRP Resource Object Config File Location**\r\n\r\nIcinga2 `Object` created by LWRP are stored under a separate directory `objects.d`. Directory name is configurable by node attribute `node['icinga2']['objects_d']`.\r\n\r\nThis directory is created under icinga2 config directory `node['icinga2']['conf_dir']`.\r\n\r\n**LWRP Resource Object/Template Config File Name Convention**\r\n\r\nA LWRP generated icinga2 `Object's` are stored into a single file. It means each LWRP has its own conf file.\r\n\r\nAs few of LWRP can create an `Object` and `Template`, below conf file name convention is followed through out LWRP resources.\r\n\r\n\tObject conf file : \"#{LWRP_NAME}.conf\".\r\n\tTemplate conf file : \"#{LWRP_NAME}_template.conf\".\r\n\r\n\r\ne.g.\r\n\r\n\tLWRP `icinga2_host` object resources will create icinga2\r\n\t`Host` objects conf file - /etc/icinga2/objects.d/host.conf\r\n\r\n\tLWRP `icinga2_service` object resources will create icinga2\r\n\t`Service` objects conf file - /etc/icinga2/objects.d/service.conf\r\n\r\n\tLWRP `icinga2_service` tempalte resources will create icinga2\r\n\t`Service` templates conf file - /etc/icinga2/objects.d/service_template.conf\r\n\r\n\tLWRP `icinga2_applyservice` resources will create icinga2\r\n\t`apply Service` conf file - /etc/icinga2/objects.d/applyservice.conf\r\n\r\n\tand so on ..\r\n\r\n\r\nAll LWRP generated icinga2 object/template/apply conf files are kept in a single directory and managed separately.\r\n\r\n\r\n## Default icinga2 /etc/icinga2/{conf.d,zones.conf}\r\n\r\n\r\nAs this cookbook supplies almost all necessary LWRP for icinga2 feature, object, template etc. it is a good practice and safe to say to use LWRP instead of managing configuration `/etc/icinga2/conf.d` or `/etc/icinga2/zones.conf` default configuration files.\r\n\r\nNote: Default configuration files managed by cookbook:\r\n\r\n* /etc/icinga2/constants.conf\r\n* /etc/icinga2/icinga2.conf\r\n* /etc/icinga2/init.conf\r\n\r\n`icinga2.conf` no longer includes `zones.conf` in favor of LWRP.\r\n\r\n\r\n## LWRP icinga2_environment\r\n\r\nAs mentioned in a section above, instead of creating `Host` objects for each chef node, using LWRP `environment` `Host` objects can easily be created for all chef nodes for a chef environment.\r\n\r\nLWRP resource attributes are common for all the `Host`. It may be required to define or override attribute for few specific `Host` objects, but it is not yet incorporated or forseen any usage at this point which might change over time.\r\n\r\n\r\n**LWRP example**\r\n\r\n\ticinga2_environment 'SingaporeDevelopment' do\r\n\t  import node['icinga2']['server']['object']['host']['import']\r\n\t  environment 'development'\r\n\t  limit_region true\r\n\t  ignore_resolv_error true\r\n\t  enable_cluster_hostgroup true\r\n\t  enable_application_hostgroup true\r\n\t  cluster_attribute 'flock'\r\n\t  application_attribute 'application'\r\n\t  check_interval '1m'\r\n\t  retry_interval '10s'\r\n\t  max_check_attempts 3\r\n\t  action_url '/pnp4nagios/graph?host=$HOSTNAME$&srv=_HOST_'\r\n\tend\r\n\r\n\r\nAbove LWRP resource will create `Host` objects for a chef environment nodes for a given `search_pattern` and other filter.\r\n\r\n\r\n**LWRP Options**\r\n\r\n\r\n- *action* (optional)\t\t\t- default :create, options: :create, :delete, :reload\r\n- *environment* (required)\t\t- chef environment name\r\n- *search_pattern* (optional)\t- chef search pattern for given environment\r\n- *cluster_attribute* (optional)\t-  chef node cluster attribute to create hostgroup and `Host` vars\r\n- *application_attribute* (optional) - chef noder application attribute to create hostgroup and `Host` vars\r\n- *enable_cluster_hostgroup* (optional)\t- whether to create `HostGroup` objects for chef node cluster's\r\n- *enable_application_hostgroup* (optional)\t- whether to create `HostGroup` objects for chef node application's\r\n- *enable_role_hostgroup* (optional)\t- whether to create `HostGroup` objects for chef node run_list role\r\n- *use_fqdn_resolv* (optional)\t- whether to use DNS FQDN resolved address for `Host` object attribute `address`\r\n- *failover_fqdn_address* (optional)\t- whether to use chef node attribute `node['ipaddress']` if failed to resolve node FQDN\r\n- *ignore_resolv_error* (optional)\t- whether to ignore node FQDN resolve error\r\n- *ignore_node_error* (optional)\t- whether to ignore node if failed to determine `node[]'chef_environment']` or `node['fqdn']` or `node['hostname']`\r\n<del>- *exclude_recipes* (optional)\t- exclude chef node if `run_list` matches recipe, not yet tested </del>\r\n<del>- *exclude_roles* (optional)\t- exclude chef node if `run_list` matches role, not yet tested </del>\r\n- *env_custom_vars* (optional)\t- add `Host` obect custom vars to all chef node\r\n- *limit_region* (optional)\t- whether to limit chef node to chef server region, currently tested for Amazon EC2, e.g. a icinga2 server located in region `us-east-1` will only collect nodes located in `us-east-`` region\r\n- *server_region* (optional)\t- icinga2 server region can be overriden if cloud provider is not supported by the cookbook using this attribute\r\n- *add_cloud_custom_vars* (optional)\t- whether to add cloud attributes, currently supports amazon ec2, e.g. instance id, vpc subnet etc.\r\n- *env_filter_node_vars* (optional)\t- filter or match chef nodes for a given `Hash` attribute values\r\n- *import* (optional)\t- icinga `Host` object import template attribute\r\n- *check_command* (optional)\t- icinga `Host` object attribute `check_command`\r\n- *max_check_attempts* (optional)\t- icinga `Host` object attribute `max_check_attempts`\r\n- *check_period* (optional)\t- icinga `Host` object attribute `check_period`\r\n- *check_interval* (optional)\t- icinga `Host` object attribute `check_interval`\r\n- *retry_interval* (optional)\t- icinga `Host` object attribute `retry_interval`\r\n- *enable_notifications* (optional)\t- icinga `Host` object attribute `enable_notifications`\r\n- *enable_active_checks* (optional)\t- icinga `Host` object attribute `enable_active_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\r\n- *enable_event_handler* (optional)\t- icinga `Host` object attribute `enable_event_handler`\r\n- *enable_flapping* (optional)\t- icinga `Host` object attribute `enable_flapping`\r\n- *enable_perfdata* (optional)\t- icinga `Host` object attribute `enable_perfdata`\r\n- *event_command* (optional)\t- icinga `Host` object attribute `event_command`\r\n- *flapping_threshold* (optional)\t- icinga `Host` object attribute `flapping_threshold`\r\n- *volatile* (optional)\t- icinga `Host` object attribute `volatile`\r\n- *zone* (optional)\t- icinga `Host` object attribute `zone`\r\n- *command_endpoint* (optional)\t- icinga `Host` object attribute `command_endpoint`\r\n- *notes* (optional)\t- icinga `Host` object attribute `notes`\r\n- *notes_url* (optional)\t- icinga `Host` object attribute `notes_url`\r\n- *action_url* (optional)\t- icinga `Host` object attribute `action_url`\r\n- *icon_image* (optional)\t- icinga `Host` object attribute `icon_image`\r\n- *icon_image_alt* (optional)\t- icinga `Host` object attribute `icon_image_alt`\r\n\r\n\r\nNote: Few of LWRP resource attributes has default value, please check LWRP resource until information is added here.\r\n\r\n\r\n## LWRP icinga2_envhostgroup\r\n\r\nLWRP `envhostgroup` creates an icinga `Hostgroup` object for LWRP `environment` host groups.\r\n\r\nAn `environment` host groups are evaluated at compile time, hence it conflicts with LWRP `hostgroup` resources. To avoid the conflict, LWRP `envhostgroup` resources are created in a separate object file for an environemnt.\r\n\r\n\r\n**LWRP Environment HostGroup example**\r\n\r\n\ticinga2_envhostgroup 'envhostgroup' do\r\n\t  environment environment_name\r\n\t  groups %w(group)\r\n\tend\r\n\r\nAbove LWRP resource will create `HostGroup` for a chef environment.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *environment* (name_attribute)\t- chef environment name\r\n- *groups* (optional)\t- host group names\r\n\r\nNote: This LWRP resoruce is only meant for LWRP `environment` and not to be used for custom resources.\r\n\r\n## LWRP icinga2_host\r\n\r\n\r\nUnlike LWRP `environment`, LWRP `host` creates an icinga `Host` object or template.\r\n\r\nLWRP `host` can be useful for servers not managed by Chef or to monitor Cloud Services like Amazon Elastic Cache or Amazon RDS etc.\r\n\r\n**LWRP Host Object example**\r\n\r\n\ticinga2_host 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com' do\r\n\t  display_name 'Production Redis Server'\r\n\t  address 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com'\r\n\t  custom_vars :check_tcp_ports => %w(6379), :application => 'redis', :environment => 'production', :cluster_name => 'prodredis0001'\r\n\tend\r\n\r\n\r\nAbove LWRP resource will create an icinga `Host` object.\r\n\r\n\r\n**LWRP Host Template example**\r\n\r\n\ticinga2_host 'generic-host' do\r\n\t  template true\r\n\t  max_check_attempts 5\r\n\t  check_interval '1m'\r\n\t  retry_interval '30s'\r\n\t  check_command 'hostalive'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `Host` template - `generic-host`.\r\n\r\n\r\n**LWRP Options**\r\n\r\n\r\n- *action* (optional)\t\t\t- default :create, options: :create, :delete, :reload\r\n- *display_name* (optional)\t- icinga `Host` object import template attribute\r\n- *import* (optional)\t- icinga `Host` object import template attribute\r\n- *address* (optional)\t- icinga `Host` object import template attribute\r\n- *address6* (optional)\t- icinga `Host` object import template attribute\r\n- *groups* (optional)\t- icinga `Host` object import template attribute\r\n- *check_command* (optional)\t- icinga `Host` object attribute `check_command`\r\n- *max_check_attempts* (optional)\t- icinga `Host` object attribute `max_check_attempts`\r\n- *check_period* (optional)\t- icinga `Host` object attribute `check_period`\r\n- *check_interval* (optional)\t- icinga `Host` object attribute `check_interval`\r\n- *retry_interval* (optional)\t- icinga `Host` object attribute `retry_interval`\r\n- *enable_notifications* (optional)\t- icinga `Host` object attribute `enable_notifications`\r\n- *enable_active_checks* (optional)\t- icinga `Host` object attribute `enable_active_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Host` object attribute `enable_passive_checks`\r\n- *enable_event_handler* (optional)\t- icinga `Host` object attribute `enable_event_handler`\r\n- *enable_flapping* (optional)\t- icinga `Host` object attribute `enable_flapping`\r\n- *enable_perfdata* (optional)\t- icinga `Host` object attribute `enable_perfdata`\r\n- *event_command* (optional)\t- icinga `Host` object attribute `event_command`\r\n- *flapping_threshold* (optional)\t- icinga `Host` object attribute `flapping_threshold`\r\n- *volatile* (optional)\t- icinga `Host` object attribute `volatile`\r\n- *zone* (optional)\t- icinga `Host` object attribute `zone`\r\n- *command_endpoint* (optional)\t- icinga `Host` object attribute `command_endpoint`\r\n- *notes* (optional)\t- icinga `Host` object attribute `notes`\r\n- *notes_url* (optional)\t- icinga `Host` object attribute `notes_url`\r\n- *action_url* (optional)\t- icinga `Host` object attribute `action_url`\r\n- *icon_image* (optional)\t- icinga `Host` object attribute `icon_image`\r\n- *icon_image_alt* (optional)\t- icinga `Host` object attribute `icon_image_alt`\r\n- *custom_vars* (optional)\t- icinga `Host` object attribute `vars`\r\n- *tempalte* (optional)\t- whether to create a `Host` template\r\n\r\n\r\n## LWRP icinga2_hostgroup\r\n\r\nLWRP `hostgroup` creates an icinga `HostGroup` object.\r\n\r\n\r\n**LWRP HostGroup example**\r\n\r\n\ticinga2_hostgroup 'hostgroup_name' do\r\n\t  disaply_name 'Host Group'\r\n\t  groups ['othergroup']\r\n\t  assign_where ['\"hostgroup_name\" in host.vars.hostgroups']\r\n\t  ignore_where ['\"hostgroup_name\" in host.vars.hostgroups']\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `HostGroup` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *display_name* (optional)\t- icinga `HostGroup` attribute `display_name`\r\n- *groups* (optional)\t- icinga `HostGroup` attribute `groups`\r\n- *assign_where* (optional)\t - an array of `assign where` statements\r\n- *ignore_where* (optional)\t - an array of `ignore where` statements\r\n\r\n\r\n## LWRP icinga2_service\r\n\r\n\r\nLWRP `service` creates an icinga `Service` object or template.\r\n\r\n\r\n**LWRP Service Object example**\r\n\r\n\ticinga2_service 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com_service_check' do\r\n\t  display_name 'Production Redis Service Check'\r\n\t  host_name 'redis-ec.abcdef.0001.apse1.cache.amazonaws.com'\r\n\t  check_command 'tcp'\r\n\t  custom_vars :tcp_port => 6379\r\n\tend\r\n\r\n\r\nAbove LWRP resource will create an icinga `Service` object for a host tcp port check.\r\n\r\n\r\n**LWRP Service Template example**\r\n\r\n\ticinga2_service 'generic-service' do\r\n\t  template true\r\n\t  max_check_attempts 5\r\n\t  check_interval '1m'\r\n\t  retry_interval '30s'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `Service` template object for a `generic-service` `Service`.\r\n\r\n\r\n**LWRP Options**\r\n\r\n\r\n- *action* (optional)\t- default :create, options: :create, :delete, :reload\r\n- *display_name* (optional)\t- icinga `Service` object attribute `display_name`\r\n- *import* (optional)\t- icinga `Service` object attribute `import`\r\n- *host_name* (optional)\t- icinga `Service` object attribute `host_name`\r\n- *groups* (optional)\t- icinga `Service` object attribute `groups`\r\n- *check_command* (optional)\t- icinga `Service` object attribute `check_command`\r\n- *max_check_attempts* (optional)\t- icinga `Service` object attribute `max_check_attempts`\r\n- *check_period* (optional)\t- icinga `Service` object attribute `check_period`\r\n- *check_interval* (optional)\t- icinga `Service` object attribute `check_interval`\r\n- *retry_interval* (optional)\t- icinga `Service` object attribute `retry_interval`\r\n- *enable_notifications* (optional)\t- icinga `Service` object attribute `enable_notifications`\r\n- *enable_active_checks* (optional)\t- icinga `Service` object attribute `enable_active_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\r\n- *enable_event_handler* (optional)\t- icinga `Service` object attribute `enable_event_handler`\r\n- *enable_flapping* (optional)\t- icinga `Service` object attribute `enable_flapping`\r\n- *enable_perfdata* (optional)\t- icinga `Service` object attribute `enable_perfdata`\r\n- *event_command* (optional)\t- icinga `Service` object attribute `event_command`\r\n- *flapping_threshold* (optional)\t- icinga `Service` object attribute `flapping_threshold`\r\n- *volatile* (optional)\t- icinga `Service` object attribute `volatile`\r\n- *zone* (optional)\t- icinga `Service` object attribute `zone`\r\n- *command_endpoint* (optional)\t- icinga `Service` object attribute `command_endpoint`\r\n- *notes* (optional)\t- icinga `Service` object attribute `notes`\r\n- *notes_url* (optional)\t- icinga `Service` object attribute `notes_url`\r\n- *action_url* (optional)\t- icinga `Service` object attribute `action_url`\r\n- *icon_image* (optional)\t- icinga `Service` object attribute `icon_image`\r\n- *icon_image_alt* (optional)\t- icinga `Service` object attribute `icon_image_alt`\r\n- *custom_vars* (optional)\t- icinga `Service` object attribute `vars`\r\n- *tempalte* (optional)\t- whether to create a `Service` template\r\n\r\n\r\n## LWRP icinga2_applyservice\r\n\r\nLWRP `service` creates an icinga `Service` object or template.\r\n\r\n\r\n**LWRP Apply Service Object example**\r\n\r\n\ticinga2_applyservice 'nrpe_check_load' do\r\n\t  display_name 'CPU Average Load'\r\n\t  object_name 'nrpe_check_load'\r\n\t  import 'generic-service'\r\n\t  check_command 'nrpe'\r\n\t  custom_vars :nrpe_command => 'check_load'\r\n\t  assign_where ['host.vars.nrpe']\r\n\t  check_interval '1m'\r\n\t  retry_interval '15s'\r\n\t  max_check_attempts 3\r\n\t  action_url '/pnp4nagios/graph?host=$HOSTNAME$&srv=$SERVICEDESC$'\r\n\tend\r\n\r\nAbove LWRP resource will apply an icinga `Service` object to all `Hosts` with custom vars `host.vars.nrpe`.\r\n\r\n\r\n**LWRP Options**\r\n\r\n\r\n- *action* (optional)\t- default :create, options: :create, :delete, :reload\r\n- *display_name* (optional)\t- icinga `Service` object attribute `display_name`\r\n- *import* (optional)\t- icinga `Service` object attribute `import`\r\n- *host_name* (optional)\t- icinga `Service` object attribute `host_name`\r\n- *groups* (optional)\t- icinga `Service` object attribute `groups`\r\n- *check_command* (optional)\t- icinga `Service` object attribute `check_command`\r\n- *max_check_attempts* (optional)\t- icinga `Service` object attribute `max_check_attempts`\r\n- *check_period* (optional)\t- icinga `Service` object attribute `check_period`\r\n- *check_interval* (optional)\t- icinga `Service` object attribute `check_interval`\r\n- *retry_interval* (optional)\t- icinga `Service` object attribute `retry_interval`\r\n- *enable_notifications* (optional)\t- icinga `Service` object attribute `enable_notifications`\r\n- *enable_active_checks* (optional)\t- icinga `Service` object attribute `enable_active_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\r\n- *enable_passive_checks* (optional)\t- icinga `Service` object attribute `enable_passive_checks`\r\n- *enable_event_handler* (optional)\t- icinga `Service` object attribute `enable_event_handler`\r\n- *enable_flapping* (optional)\t- icinga `Service` object attribute `enable_flapping`\r\n- *enable_perfdata* (optional)\t- icinga `Service` object attribute `enable_perfdata`\r\n- *event_command* (optional)\t- icinga `Service` object attribute `event_command`\r\n- *flapping_threshold* (optional)\t- icinga `Service` object attribute `flapping_threshold`\r\n- *volatile* (optional)\t- icinga `Service` object attribute `volatile`\r\n- *zone* (optional)\t- icinga `Service` object attribute `zone`\r\n- *command_endpoint* (optional)\t- icinga `Service` object attribute `command_endpoint`\r\n- *notes* (optional)\t- icinga `Service` object attribute `notes`\r\n- *notes_url* (optional)\t- icinga `Service` object attribute `notes_url`\r\n- *action_url* (optional)\t- icinga `Service` object attribute `action_url`\r\n- *icon_image* (optional)\t- icinga `Service` object attribute `icon_image`\r\n- *icon_image_alt* (optional)\t- icinga `Service` object attribute `icon_image_alt`\r\n- *custom_vars* (optional)\t- icinga `Service` object attribute `vars`\r\n- *assign_where* (optional)\t - an array of `assign where` statements\r\n- *ignore_where* (optional)\t - an array of `ignore where` statements\r\n\r\n\r\n## LWRP icinga2_servicegroup\r\n\r\nLWRP `servicegroup` creates an icinga `ServiceGroup` object.\r\n\r\n\r\n**LWRP ServiceGroup example**\r\n\r\n\ticinga2_servicegroup 'servicegroup_name' do\r\n\t  disaply_name 'Service Group'\r\n\t  groups ['othergroup']\r\n\t  assign_where ['\"servicegroup_name\" in host.vars.servicegroups']\r\n\t  ignore_where ['\"servicegroup_name\" in host.vars.servicegroups']\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `ServiceGroup` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *display_name* (optional)\t- icinga `ServiceGroup` attribute `display_name`\r\n- *groups* (optional)\t- icinga `ServiceGroup` attribute `groups`\r\n- *assign_where* (optional)\t - an array of `assign where` statements\r\n- *ignore_where* (optional)\t - an array of `ignore where` statements\r\n\r\n\r\n## LWRP icinga2_feature\r\n\r\nLWRP `feature` enable or disable an icinga `Feature`.\r\n\r\n\r\n**LWRP Feature enable example**\r\n\r\n\ticinga2_feature 'feature'\r\n\r\nAbove LWRP resource will enable an icinga `Feature`.\r\n\r\n\r\n**LWRP Feature disable example**\r\n\r\n\ticinga2_feature 'feature' do\r\n\t  action :disable\r\n\tend\r\n\r\nAbove LWRP resource will disable an icinga `Feature`.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *name*(name_attribute)\t- icinga2 feature name\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n\r\n\r\n## LWRP icinga2_user\r\n\r\nLWRP `user` creates an icinga `User` object.\r\n\r\n\r\n**LWRP User Object example**\r\n\r\n\ticinga2_user 'user_name' do\r\n\t  import 'generic-user'\r\n\t  enable_notifications true\r\n\t  states %w(OK Warning Critical Unknown Up Down)\r\n\t  types %w(DowntimeStart DowntimeEnd DowntimeRemoved Custom Acknowledgement Problem Recovery FlappingStart FlappingEnd)\r\n\t  display_name 'User Info'\r\n\t  groups %w(usergroup)\r\n\t  email 'user@domain'\r\n\tend\r\n\r\n\r\nAbove LWRP resource will create an icinga `User` object.\r\n\r\n**LWRP User Template example**\r\n\r\n\ticinga2_user 'generic-user' do\r\n\t  template true\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `User` template.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *display_name* (optional)\t- icinga `User` attribute `display_name`\r\n- *import* (optional)\t- icinga `User` attribute `import`\r\n- *groups* (optional)\t- icinga `User` attribute `groups`\r\n- *email* (optional)\t- icinga `User` attribute `email`\r\n- *pager* (optional)\t- icinga `User` attribute `pager`\r\n- *period* (optional)\t- icinga `User` attribute `period`\r\n- *states* (optional)\t- icinga `User` attribute `states`\r\n- *types* (optional)\t- icinga `User` attribute `types`\r\n- *zone* (optional)\t- icinga `User` attribute `zone`\r\n- *custom_vars* (optional)\t- icinga `User` attribute `vars`\r\n- *enable_notifications* (optional)\t- icinga `User` attribute `enable_notifications`\r\n- *template* (optional)\t- whether to create a `User` template\r\n\r\n\r\n## LWRP icinga2_usergroup\r\n\r\nLWRP `usergroup` creates an icinga `UserGroup` object.\r\n\r\n\r\n**LWRP UserGroup example**\r\n\r\n\ticinga2_usergroup 'usergroup_name' do\r\n\t  disaply_name 'User Group'\r\n\t  groups ['usergroup']\r\n\t  zone 'zone_name'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `UserGroup` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *display_name* (optional)\t- icinga `UserGroup` attribute `display_name`\r\n- *groups* (optional)\t- icinga `UserGroup` attribute `groups`\r\n- *zone* (optional)\t- icinga `UserGroup` attribute `zone`\r\n\r\n\r\n## LWRP icinga2_zone\r\n\r\nLWRP `zone` creates an icinga `Zone` object.\r\n\r\n\r\n**LWRP Zone example**\r\n\r\n\ticinga2_zone 'zone' do\r\n\t  endpoints %w(endpoint)\r\n\t  parent 'parent zone'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `Zone` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *endpoints* (optional)\t- icinga `Zone` attribute `endpoints`\r\n- *parent* (optional)\t- icinga `Zone` attribute `parent`\r\n\r\n\r\n## LWRP icinga2_endpoint\r\n\r\nLWRP `endpoint` creates an icinga `Endpoint` object.\r\n\r\n\r\n**LWRP Endpoint example**\r\n\r\n\ticinga2_endpoint 'endpoint' do\r\n\t  host 'host address'\r\n\t  port 'port'\r\n\t  log_duration 'log duration'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `Endpoint` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *host* (optional)\t- icinga `Endpoint` attribute `host`\r\n- *port* (optional)\t- icinga `Endpoint` attribute `port`\r\n- *log_duration* (optional)\t- icinga `Endpoint` attribute `log_duration`\r\n\r\n\r\n## LWRP icinga2_timeperiod\r\n\r\nLWRP `timeperiod` creates an icinga `TimePeriod` object.\r\n\r\n\r\n**LWRP TimePeriod example**\r\n\r\n\ticinga2_timeperiod '24x7' do\r\n\t  import 'legacy-timeperiod'\r\n\t  display_name 'Icinga 2 24x7 TimePeriod'\r\n\t  ranges 'monday' => '00:00-24:00',\r\n\t\t'tuesday' => '00:00-24:00',\r\n\t\t'wednesday' => '00:00-24:00',\r\n\t\t'thursday' => '00:00-24:00',\r\n\t\t'friday' => '00:00-24:00',\r\n\t\t'saturday' => '00:00-24:00',\r\n\t\t'sunday' => '00:00-24:00'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `TimePeriod` object.\r\n\r\n**LWRP TimePeriod template**\r\n\r\n\ticinga2_timeperiod 'legacy-timeperiod' do\r\n\t  template true\r\n\t  display_name 'legacy-timeperiod'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `TimePeriod` template.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *display_name* (optional)\t- icinga `TimePeriod` attribute `display_name`\r\n- *import* (optional)\t- icinga `TimePeriod` attribute `import`\r\n- *zone* (optional)\t- icinga `TimePeriod` attribute `zone`\r\n- *ranges* (optional)\t- icinga `TimePeriod` attribute `ranges`\r\n- *template* (optional)\t- whether to create an icinga `TimePeriod` template\r\n\r\n\r\n## LWRP icinga2_eventcommand\r\n\r\nLWRP `eventcommand` creates an icinga `EventCommand` object.\r\n\r\n\r\n**LWRP EventCommand example**\r\n\r\n\ticinga2_eventcommand 'eventcommand' do\r\n\t  command 'command name'\r\n\t  custom_vars :attribute => 'value'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `EventCommand` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *import* (optional)\t- icinga `EventCommand` attribute `import`\r\n- *command* (optional)\t- icinga `EventCommand` attribute `command`\r\n- *env* (optional)\t- icinga `EventCommand` attribute `env`\r\n- *timeout* (optional)\t- icinga `EventCommand` attribute `timeout`\r\n- *arguments* (optional)\t- icinga `EventCommand` attribute `arguments`\r\n- *custom_vars* (optional)\t- icinga `EventCommand` attribute `custom_vars`\r\n\r\n\r\n## LWRP icinga2_checkcommand\r\n\r\n\r\nLWRP `checkcommand` creates an icinga `CheckCommand` object.\r\n\r\n\r\n**LWRP CheckCommand example**\r\n\r\n\ticinga2_checkcommand 'eventcommand' do\r\n\t  command 'command name'\r\n\t  env :attribute => 'value'\r\n\t  arguments :attribute => 'value'\r\n\t  custom_vars :attribute => 'value'\r\n\t  zone 'zone name'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `CheckCommand` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *import* (optional)\t- icinga `CheckCommand` attribute `import`\r\n- *command* (optional)\t- icinga `CheckCommand` attribute `command`\r\n- *env* (optional)\t- icinga `CheckCommand` attribute `env`\r\n- *timeout* (optional)\t- icinga `CheckCommand` attribute `timeout`\r\n- *zone* (optional)\t- icinga `CheckCommand` attribute `zone`\r\n- *arguments* (optional)\t- icinga `CheckCommand` attribute `arguments`\r\n- *custom_vars* (optional)\t- icinga `CheckCommand` attribute `custom_vars`\r\n\r\n\r\n## LWRP icinga2_scheduleddowntime\r\n\r\n\r\nLWRP `scheduleddowntime` creates an icinga `ScheduledDowntime` object.\r\n\r\n\r\n**LWRP ScheduledDowntime example**\r\n\r\n\ticinga2_scheduleddowntime 'downtime' do\r\n\t  host_name 'host name'\r\n\t  service_name 'service name'\r\n\t  author 'author'\r\n\t  comment 'comment'\r\n\t  duration 'duration'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `ScheduledDowntime` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *host_name* (optional)\t- icinga `ScheduledDowntime` attribute `host_name`\r\n- *service_name* (optional)\t- icinga `ScheduledDowntime` attribute `service_name`\r\n- *author* (optional)\t- icinga `ScheduledDowntime` attribute `author`\r\n- *comment* (optional)\t- icinga `ScheduledDowntime` attribute `comment`\r\n- *fixed* (optional)\t- icinga `ScheduledDowntime` attribute `fixed`\r\n- *duration* (optional)\t- icinga `ScheduledDowntime` attribute `duration`\r\n- *zone* (optional)\t- icinga `ScheduledDowntime` attribute `zone`\r\n- *ranges* (optional)\t- icinga `ScheduledDowntime` attribute `ranges`\r\n- *template* (optional)\t- whether to create an icinga `ScheduledDowntime` template\r\n\r\n\r\n## LWRP icinga2_externalcommandlistener\r\n\r\nLWRP `externalcommandlistener` creates an icinga `ExternalCommandListener` object.\r\n\r\n\r\n**LWRP ExternalCommandListener example**\r\n\r\n\ticinga2_externalcommandlistener 'externalcommandlistener' do\r\n\t  library 'library'\r\n\t  command_path 'command path'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `ExternalCommandListener` config object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *library* (optional)\t- default 'compat', icinga `ExternalCommandListener` attribute `library`\r\n- *command_path* (optional)\t- icinga `ExternalCommandListener` attribute `command_path`\r\n\r\n\r\n## LWRP icinga2_gelfwriter\r\n\r\nLWRP `gelfwriter` creates an icinga `GelfWriter` object.\r\n\r\n\r\n**LWRP GelfWrite example**\r\n\r\n\ticinga2_gelfwriter 'gelfwriter' do\r\n\t  library 'library'\r\n\t  host 'host address'\r\n\t  port 'port'\r\n\t  source 'source'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `GelfWriter` config object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *library* (optional)\t- default 'perfdata', icinga `GelfWriter` attribute `library`\r\n- *host* (optional)\t- icinga `GelfWriter` attribute `host`\r\n- *port* (optional)\t- icinga `GelfWriter` attribute `port`\r\n- *source* (optional)\t- icinga `GelfWriter` attribute `source`\r\n\r\n\r\n## LWRP icinga2_graphitewriter\r\n\r\nLWRP `graphitewriter` creates an icinga `GraphiteWriter` object.\r\n\r\n\r\n**LWRP GraphiteWriter example**\r\n\r\n\ticinga2_graphitewriter 'graphitewriter' do\r\n\t  library 'library'\r\n\t  host 'host address'\r\n\t  port 'port'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `GraphiteWriter` config object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *library* (optional)\t- default 'perfdata', icinga `GraphiteWriter` attribute `library`\r\n- *host* (optional)\t- icinga `GraphiteWriter` attribute `host`\r\n- *port* (optional)\t- icinga `GraphiteWriter` attribute `port`\r\n- *host_name_template* (optional)\t- icinga `GraphiteWriter` attribute `host_name_template`\r\n- *service_name_template* (optional)\t- icinga `GraphiteWriter` attribute `service_name_template`\r\n\r\n\r\n## LWRP icinga2_idomysqlconnection\r\n\r\nLWRP `idomysqlconnection` creates an icinga `IdoMySqlConnection` object.\r\n\r\n\r\n**LWRP IdoMySqlConnection example**\r\n\r\n\ticinga2_idomysqlconnection 'idomysqlconnection' do\r\n\t  library 'library'\r\n\t  host 'host address'\r\n\t  port 'port'\r\n\t  user 'user name'\r\n\t  password 'password'\r\n\t  database 'database name'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `IdoMySqlConnection` config object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *library* (optional)\t- default 'db_ido_mysql', icinga `IdoMySqlConnection` attribute `library`\r\n- *host* (optional)\t- icinga `IdoMySqlConnection` attribute `host`\r\n- *port* (optional)\t- icinga `IdoMySqlConnection` attribute `port`\r\n- *user* (optional)\t- icinga `IdoMySqlConnection` attribute `user`\r\n- *password* (optional)\t- icinga `IdoMySqlConnection` attribute `password`\r\n- *database* (optional)\t- icinga `IdoMySqlConnection` attribute `database`\r\n- *table_prefix* (optional)\t- icinga `IdoMySqlConnection` attribute `table_prefix`\r\n- *instance_name* (optional)\t- icinga `IdoMySqlConnection` attribute `instance_name`\r\n- *instance_description* (optional)\t- icinga `IdoMySqlConnection` attribute `instance_description`\r\n- *enable_ha* (optional)\t- icinga `IdoMySqlConnection` attribute `enable_ha`\r\n- *failover_timeout* (optional)\t- icinga `IdoMySqlConnection` attribute `failover_timeout`\r\n- *enable_ha* (optional)\t- icinga `IdoMySqlConnection` attribute `enable_ha`\r\n- *cleanup* (optional)\t- icinga `IdoMySqlConnection` attribute `cleanup`\r\n- *categories* (optional)\t- icinga `IdoMySqlConnection` attribute `categories`\r\n\r\n\r\n## LWRP icinga2_idopgsqlconnection\r\n\r\nLWRP `idopgsqlconnection` creates an icinga `IdoPgSqlConnection` object.\r\n\r\n\r\n**LWRP IdoPgSqlConnection example**\r\n\r\n\ticinga2_idopgsqlconnection 'idopgsqlconnection' do\r\n\t  library 'library'\r\n\t  host 'host address'\r\n\t  port 'port'\r\n\t  user 'user name'\r\n\t  password 'password'\r\n\t  database 'database name'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `IdoPgSqlConnection` config object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *library* (optional)\t- default 'db_ido_mysql', icinga `IdoPgSqlConnection` attribute `library`\r\n- *host* (optional)\t- icinga `IdoPgSqlConnection` attribute `host`\r\n- *port* (optional)\t- icinga `IdoPgSqlConnection` attribute `port`\r\n- *user* (optional)\t- icinga `IdoPgSqlConnection` attribute `user`\r\n- *password* (optional)\t- icinga `IdoPgSqlConnection` attribute `password`\r\n- *database* (optional)\t- icinga `IdoPgSqlConnection` attribute `database`\r\n- *table_prefix* (optional)\t- icinga `IdoPgSqlConnection` attribute `table_prefix`\r\n- *instance_name* (optional)\t- icinga `IdoPgSqlConnection` attribute `instance_name`\r\n- *instance_description* (optional)\t- icinga `IdoPgSqlConnection` attribute `instance_description`\r\n- *enable_ha* (optional)\t- icinga `IdoPgSqlConnection` attribute `enable_ha`\r\n- *failover_timeout* (optional)\t- icinga `IdoPgSqlConnection` attribute `failover_timeout`\r\n- *enable_ha* (optional)\t- icinga `IdoPgSqlConnection` attribute `enable_ha`\r\n- *cleanup* (optional)\t- icinga `IdoPgSqlConnection` attribute `cleanup`\r\n- *categories* (optional)\t- icinga `IdoPgSqlConnection` attribute `categories`\r\n\r\n\r\n## LWRP icinga2_sysloglogger\r\n\r\nLWRP `sysloglogger` creates an icinga `SyslogLogger` object.\r\n\r\n\r\n**LWRP SyslogLogger example**\r\n\r\n\ticinga2_sysloglogger 'sysloglogger' do\r\n\t  severity 'critical'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `SyslogLogger` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *name*(name_attribute)\t- icinga `SyslogLogger` name\r\n- *severity* (optional)\t- icinga `SyslogLogger` attribute `port`\r\n\r\n\r\n## LWRP icinga2_notification\r\n\r\n\r\nLWRP `notification` creates an icinga `Notification` object.\r\n\r\n\r\n**LWRP Notification Object example**\r\n\r\n\ticinga2_notification 'notification' do\r\n\t  import 'notification template'\r\n\t  host_name 'host'\r\n\t  service_name 'service'\r\n\t  users %w(user)\r\n\t  user_groups %w(usergroup)\r\n\t  interval 'interval'\r\n\t  period 'period'\r\n\t  states %w(OK Warning Critical Unknown Up Down)\r\n\t  types %w(Custom Acknowledgement Problem Recovery)\r\n\tend\r\n\r\n\r\nAbove LWRP resource will create an icinga `Notification` object.\r\n\r\n**LWRP Notification Template example**\r\n\r\n\ticinga2_notification 'notification' do\r\n\t  template true\r\n\t  period '24x7'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `Notification` template.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *import* (optional)\t- icinga `Notification` attribute `import`\r\n- *host_name* (optional)\t- icinga `Notification` attribute `host_name`\r\n- *service_name* (optional)\t- icinga `Notification` attribute `service_name`\r\n- *users* (optional)\t- icinga `Notification` attribute `users`\r\n- *user_groups* (optional)\t- icinga `Notification` attribute `user_groups`\r\n- *times* (optional)\t- icinga `Notification` attribute `times`\r\n- *command* (optional)\t- icinga `Notification` attribute `command`\r\n- *interval* (optional)\t- icinga `Notification` attribute `interval`\r\n- *period* (optional)\t- icinga `Notification` attribute `period`\r\n- *zone* (optional)\t- icinga `Notification` attribute `zone`\r\n- *types* (optional)\t- icinga `Notification` attribute `types`\r\n- *states* (optional)\t- icinga `Notification` attribute `states`\r\n- *custom_vars* (optional)\t- icinga `Notification` attribute `vars`\r\n- *template* (optional)\t- whether to create a `Notification` template\r\n\r\n\r\n## LWRP icinga2_applynotification\r\n\r\nLWRP `applynotification` creates an icinga `apply Notification` object for `Host` and `Service`.\r\n\r\n\r\n**LWRP apply Notification Service Object example**\r\n\r\n\ticinga2_applynotification 'servicenotification' do\r\n\t  object_type 'Service'\r\n\t  command 'mail-service-notification'\r\n\t  users %w(user)\r\n\t  interval '1h'\r\n\t  assign_where ['host.address && host.vars.environment == \"development\"']\r\n\t  ignore_where ['host.vars.monitoring_disabled == true']\r\n\tend\r\n\r\n\r\n\r\nAbove LWRP resource will apply `Notification` to all `Service` objects for provided `assign where` statements and ignore for specified `ignore where` statements.\r\n\r\n**LWRP apply Notification Host Object example**\r\n\r\n\ticinga2_applynotification 'hostnotification' do\r\n\t  object_type 'Host'\r\n\t  command 'mail-host-notification'\r\n\t  users %w(user)\r\n\t  interval '1h'\r\n\t  assign_where ['host.address && host.vars.environment == \"development\"']\r\n\t  ignore_where ['host.vars.monitoring_disabled == true']\r\n\tend\r\n\r\n\r\nAbove LWRP resource will apply `Notification` to all `Host` objects for provided `assign_where` statements and ignore for specified `ignore_where` statements.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *object_type* (required)\t- apply Notification to `Host` or `Service`, valid values are: Host Service\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *import* (optional)\t- icinga `Notification` attribute `import`\r\n- *users* (optional)\t- icinga `Notification` attribute `users`\r\n- *user_groups* (optional)\t- icinga `Notification` attribute `user_groups`\r\n- *times* (optional)\t- icinga `Notification` attribute `times`\r\n- *command* (optional)\t- icinga `Notification` attribute `command`\r\n- *interval* (optional)\t- icinga `Notification` attribute `interval`\r\n- *period* (optional)\t- icinga `Notification` attribute `period`\r\n- *types* (optional)\t- icinga `Notification` attribute `types`\r\n- *states* (optional)\t- icinga `Notification` attribute `states`\r\n- *assign_where* (optional)\t- icinga `assign where` statements\r\n- *ignore_where* (optional)\t- icinga `ignore where` statements\r\n\r\n\r\n## LWRP icinga2_notificationcommand\r\n\r\nLWRP `notificationcommand` creates an icinga `NotificationCommand` object.\r\n\r\n\r\n**LWRP NotificationCommand example**\r\n\r\n\ticinga2_notificationcommand 'mail-service-notification' do\r\n\t  command ['SysconfDir + \"/icinga2/scripts/mail-service-notification.sh\"']\r\n\t  env 'NOTIFICATIONTYPE' => '$notification.type$', \\\r\n        'SERVICEDESC' => '$service.name$',\\\r\n        'HOSTALIAS' => '$host.display_name$',\\\r\n        'HOSTADDRESS' => '$address$',\\\r\n        'SERVICESTATE' => '$service.state$',\\\r\n        'LONGDATETIME' => '$icinga.long_date_time$',\\\r\n        'SERVICEOUTPUT' => '$service.output$',\\\r\n        'NOTIFICATIONAUTHORNAME' => '$notification.author$',\\\r\n        'NOTIFICATIONCOMMENT' => '$notification.comment$',\\\r\n        'HOSTDISPLAYNAME' => '$host.display_name$',\\\r\n        'SERVICEDISPLAYNAME' => '$service.display_name$',\\\r\n        'USEREMAIL' => '$user.email$'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `NotificationCommand` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *import* (optional)\t- default plugin-notification-command, icinga `NotificationCommand` attribute `cert_path`\r\n- *command* (optional)\t- icinga `NotificationCommand` attribute `command`\r\n- *env* (optional)\t- icinga `NotificationCommand` attribute `env`\r\n- *timeout* (optional)\t- icinga `NotificationCommand` attribute `timeout`\r\n- *zone* (optional)\t- icinga `NotificationCommand` attribute `zone`\r\n- *arguments* (optional)\t- icinga `NotificationCommand` attribute `arguments`\r\n- *custom_vars* (optional)\t- icinga `NotificationCommand` attribute `vars`\r\n\r\n\r\n\r\n## LWRP icinga2_apilistener\r\n\r\nLWRP `apilistener` creates an icinga `ApiListener` object.\r\n\r\n\r\n**LWRP ApiListener example**\r\n\r\n\ticinga2_apilistener 'master' do\r\n\t  cert_path 'SysconfDir + \"/icinga2/pki/\" + NodeName + \".crt\"'\r\n\t  key_path 'SysconfDir + \"/icinga2/pki/\" + NodeName + \".key\"'\r\n\t  ca_path 'SysconfDir + \"/icinga2/pki/ca.crt\"'\r\n\t  bind_host 'host address'\r\n\t  bind_port '5665'\r\n\t  ticket_salt 'TicketSalt'\r\n\tend\r\n\r\nAbove LWRP resource will create an icinga `ApiListener` object.\r\n\r\n\r\n**LWRP Options**\r\n\r\n- *action* (optional)\t- default :enable, options: :enable, :disable\r\n- *cert_path* (optional)\t- icinga `ApiListener` attribute `cert_path`\r\n- *key_path* (optional)\t- icinga `ApiListener` attribute `key_path`\r\n- *ca_path* (optional)\t- icinga `ApiListener` attribute `ca_path`\r\n- *crl_path* (optional)\t- icinga `ApiListener` attribute `crl_path`\r\n- *bind_host* (optional)\t- icinga `ApiListener` attribute `bind_host`\r\n- *bind_port* (optional)\t- icinga `ApiListener` attribute `bind_port`\r\n- *ticket_salt* (optional)\t- icinga `ApiListener` attribute `ticket_salt`\r\n- *accept_config* (optional)\t- icinga `ApiListener` attribute `accept_config`\r\n- *accept_commands* (optional)\t- icinga `ApiListener` attribute `accept_commands`\r\n\r\n\r\n## LWRP icinga2_applydependency\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_livestatuslistener\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_statusdatawriter\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_compatlogger\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_checkresultreader\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_checkercomponent\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_notificationcomponent\r\n\r\n To be added.\r\n\r\n\r\n## LWRP icinga2_filelogger\r\n\r\n To be added.\r\n\r\n## LWRP icinga2_perfdatawriter\r\n\r\n To be added.\r\n\r\n\r\n\r\n## Cookbook Advanced Attributes\r\n\r\n* `default['icinga2']['disable_conf_d']` (default: `false`): disable icinga2 `conf.d` default configuration and use LWRP to manage icinga2 objects / templates\r\n\r\n* `default['icinga2']['add_cloud_custom_vars']` (default: `true`): add cloud node attributes, limited cloud provider support is available\r\n\r\n* `default['icinga2']['enable_features_recipe']` (default: `false`): manage icinga2 features via node attribute `node['icinga2']['enable_features']`\r\n\r\n* `default['icinga2']['features_enabled_dir']` (default: `/etc/icinga2/features-enabled`): icinga2 enabled features location\r\n\r\n* `default['icinga2']['features_available_dir']` (default: `/etc/icinga2/features-available`): icinga2 available features location\r\n\r\n* `default['icinga2']['cluster_attribute']` (default: `nil`): icinga2 node cluster attribute name to add node cluster attribute and value to node vars\r\n\r\n* `default['icinga2']['application_attribute']` (default: `nil`): icinga2 node application attribute name to add node application attribute and value to node vars\r\n\r\n* `default['icinga2']['enable_cluster_hostgroup']` (default: `true`): creates icinga2 HostGroup Objects for environment clusters\r\n\r\n* `default['icinga2']['enable_application_hostgroup']` (default: `true`): creates icinga2 HostGroup Objects for environment application types\r\n\r\n* `default['icinga2']['enable_role_hostgroup']` (default: `false`): creates icinga2 HostGroup Objects for environment roles\r\n\r\n* `default['icinga2']['limit_region']` (default: `true`): whether to limit monitoring to icinga2 server region, e.g. for ec2 collect nodes belongs to same region\r\n\r\n* `default['icinga2']['use_fqdn_resolv']` (default: `false`): whether to determine node `address` from fqdn\r\n\r\n* `default['icinga2']['failover_fqdn_address']` (default: `true`): whether to use ohai attribute `node['ipaddress']` if node fqdn does not exists\r\n\r\n* `default['icinga2']['ignore_node_error']` (default: `false`): whether to ignore node errors if node fqdn, hostname and chef_environment is missing while collecting for a chef environment\r\n\r\n* `default['icinga2']['ignore_resolv_error']` (default: `true`): whether to ignore node fqdn resolve errors while collecting for a chef environment\r\n\r\n* `default['icinga2']['web_engine']` (default: `'apache'): icinga2 web server, currently supports only apache\r\n\r\n* `default['icinga2']['install_nagios_plugins']` (default: `true`): install nagios plugins to icinga2 server and clients\r\n\r\n* `default['icinga2']['features']` (default: `[available features]`): list of icinga2 available features\r\n\r\n* `default['icinga2']['enable_features']` (default: `[checker command compatlog mainlog notification statusdata perfdata]`): icinga2 enabled features\r\n\r\n\r\n## Cookbook Core Attributes\r\n\r\n* `default['icinga2']['version']` (default: `2.2.2-1`): icinga2 version\r\n\r\n* `default['icinga2']['conf_dir']` (default: `/etc/icinga2`): icinga2 configuration location\r\n\r\n* `default['icinga2']['conf_d_dir']` (default: `/etc/icinga2/conf.d`): icinga2 conf.d directory location\r\n\r\n* `default['icinga2']['pki_dir']` (default: `/etc/icinga2/pki`): icinga2 pki directory location\r\n\r\n* `default['icinga2']['scripts_dir']` (default: `/etc/icinga2/scripts`): icinga2 script directory location\r\n\r\n* `default['icinga2']['zones_dir']` (default: `/etc/icinga2/zones.d`): icinga2 zones.d directory location\r\n\r\n* `default['icinga2']['databag']` (default: `'icinga2'): icinga2 databag name, currently not used\r\n\r\n* `default['icinga2']['objects_d']` (default: `'objects.d`): cookbook created icinga2 Object/Templates resources directory name\r\n\r\n* `default['icinga2']['objects_dir']` (default: `/etc/icinga2/objects.d`): cookbook created icinga2 Object/Templates resources directory location\r\n\r\n* `default['icinga2']['run_dir']` (default: `/var/run/icinga2`): icinga2 run directory\r\n\r\n* `default['icinga2']['run_cmd_dir']` (default: `/var/run/icinga2/cmd`): icinga2 location for process `icinga2.cmd`\r\n\r\n* `default['icinga2']['cache_dir']` (default: `/var/cache/icinga2`): icinga2 cache directory location\r\n\r\n* `default['icinga2']['spool_dir']` (default: `/var/spool/icinga2`): icinga2 spool directory location\r\n\r\n* `default['icinga2']['lib_dir']` (default: `/var/lib/icinga2`): icinga2 lib directory location\r\n\r\n* `default['icinga2']['log_dir']` (default: `/var/log/icinga2`): icinga2 core process log directory location\r\n\r\n* `default['icinga2']['cache_dir']` (default: `/var/cache/icinga2`): icinga2 cache directory location\r\n\r\n* `default['icinga2']['perfdata_dir']` (default: `/var/spool/icinga2/perfdata`): icinga2 perfdata directory location\r\n\r\n* `default['icinga2']['service_name']` (default: `icinga2'`): icinga2 process name*\r\n\r\n* `default['icinga2']['service_config_file']` (default: `/etc/default/icinga2`): icinga2 * process configuration file\r\n\r\n* `default['icinga2']['plugins_dir']` (default: `/usr/lib/nagios/plugins`): icinga2 plugins directory location\r\n\r\n* `default['icinga2']['custom_plugins_dir']` (default: `/opt/icinga2_custom_plugins`): icinga2 custom plugins directory\r\n\r\n* `default['icinga2']['admin_user']` (default: `icingaadmin`): icinga2 admin user\r\n\r\n* `default['icinga2']['user']` (default: `icinga`): icinga2 user\r\n\r\n* `default['icinga2']['group']` (default: `icinga`): icinga2 user group\r\n\r\n* `default['icinga2']['cmdgroup']` (default: `icingacmd`): icinga2 cmd user group\r\n\r\n* `default['icinga2']['user_defined_objects_d']` (default: `user_defined_objects`): icinga2 conf directory name for user defined objects\r\n\r\n* `default['icinga2']['user_defined_objects_dir']` (default: `/etc/icinga2/user_defined_objects`): icinga2 conf directory for user defined objects\r\n\r\n* `default['icinga2']['cmdgroup']` (default: `icingacmd`): icinga2 cmd user group\r\n\r\n\r\n## Cookbook Icinga2 Constants Attributes\r\n\r\n\r\n* `default['icinga2']['server']['constants']['PluginDir']` (default: `node['icinga2']['plugins_dir']`): icinga2 plugins directory location\r\n\r\n* `default['icinga2']['server']['constants']['ManubulonPluginDir']` (default: `node['icinga2']['plugins_dir']`): icinga2 plugins directory location\r\n\r\n* `default['icinga2']['server']['constants']['TicketSalt']` (default: `ch2ng3m3`): icinga2 default TicketSalt key\r\n\r\n\r\n## Cookbook Icinga2 Host Object default Attributes\r\n\r\n* `default['icinga2']['server']['object']['host']['import']` (default: `'generic-host`)\r\n\r\n* `default['icinga2']['server']['object']['host']['max_check_attempts']` (default: `3`)\r\n\r\n* `default['icinga2']['server']['object']['host']['check_period']` (default: `nil`)\r\n\r\n* `default['icinga2']['server']['object']['host']['check_interval']` (default: `1800`)\r\n\r\n* `default['icinga2']['server']['object']['host']['retry_interval']` (default: `60`)\r\n\r\n* `default['icinga2']['server']['object']['host']['enable_notifications']` (default: `true`)\r\n\r\n* `default['icinga2']['server']['object']['host']['enable_active_checks']` (default: `true`)\r\n\r\n* `default['icinga2']['server']['object']['host']['enable_passive_checks']` (default: `false`)\r\n\r\n* `default['icinga2']['server']['object']['host']['enable_event_handler']` (default: `true`)\r\n\r\n* `default['icinga2']['server']['object']['host']['enable_flapping']` (default: `true`)\r\n\r\n* `default['icinga2']['server']['object']['host']['enable_perfdata']` (default: `true`)\r\n\r\n* `default['icinga2']['server']['object']['host']['event_command']` (default: `nil`)\r\n\r\n* `default['icinga2']['server']['object']['host']['flapping_threshold']` (default: `nil`)\r\n\r\n* `default['icinga2']['server']['object']['host']['volatile']` (default: `nil`)\r\n\r\n* `default['icinga2']['server']['object']['host']['check_command']` (default: `hostalive`)\r\n\r\n* `default['icinga2']['server']['object']['host']['zone']` (default: `nil`)\r\n\r\n* `default['icinga2']['server']['object']['host']['command_endpoint']` (default: `nil`)\r\n\r\n* `default['icinga2']['server']['object']['host']['zone_attribute']` (default: `icinga2_zone`)\r\n\r\n\r\n\r\n## Cookbook Icinga2 IDO Attributes\r\n\r\n * `default[:icinga2][:ido][:type]` (default: `mysql`): icinga2 ido type, valid are `mysql pgsql`\r\n\r\n * `default[:icinga2][:ido][:load_schema]` (default: `false`): whether to load db schema\r\n\r\n * `default[:icinga2][:ido][:db_host]` (default: `localhost`): Icinga2 ido db host\r\n\r\n * `default[:icinga2][:ido][:db_name]` (default: `icinga`): Icinga2 ido db name\r\n\r\n * `default[:icinga2][:ido][:db_user]` (default: `icinga`): Icinga2 ido db user\r\n\r\n * `default[:icinga2][:ido][:db_password]` (default: `icinga`): Icinga2 ido db password\r\n\r\n\r\n## Cookbook Icingaweb2 Attributes\r\n\r\n * `default[:icinga2][:web2][:enable]` (default: `false`): whether to setup icingaweb2\r\n\r\n * `default[:icinga2][:web2][:source_url]` (default: `git://git.icinga.org/icingaweb2.git`):\r\n\r\n * `default[:icinga2][:web2][:version]` (default: `master`): icingaweb2 git checkout version / branch / tag etc.\r\n\r\n * `default[:icinga2][:web2][:web_root]` (default: `/usr/share/icingaweb2`): icingaweb2 web root location\r\n\r\n * `default[:icinga2][:web2][:web_uri]` (default: `/icingaweb`): icingweb2 web uri\r\n\r\n * `default[:icinga2][:web2][:conf_dir]` (default: `/etc/icingaweb2`): icingaweb2 config directory\r\n\r\n * `default[:icinga2][:web2][:log_dir]` (default: `/var/log/icingaweb2`): icingaweb2 log directory\r\n\r\n\r\n## Cookbook Ulimit Attributes\r\n\r\n * `default[:icinga2][:limits][:memlock]` (default: `unlimited`): Icinga2 service user memory limit\r\n\r\n * `default[:icinga2][:limits][:nofile]` (default: `48000`): Icinga2 service user file limit\r\n\r\n * `default[:icinga2][:limits][:nproc]` (default: `unlimited`): Icinga2 service user process limit\r\n\r\n\r\n## Cookbook Repository Attributes\r\n\r\n* `default['icinga2']['yum']['description']` (default: `ICINGA Stable Release'):\r\n\r\n* `default['icinga2']['yum']['mirrorlist']` (default: `nil`):\r\n\r\n* `default['icinga2']['yum']['gpgcheck']` (default: `true`):\r\n\r\n* `default['icinga2']['yum']['enabled']` (default: `true`):\r\n\r\n* `default['icinga2']['yum']['gpgkey']` (default: `http://packages.icinga.org/icinga.key`):\r\n\r\n* `default['icinga2']['yum']['action']` (default: `:create`):\r\n\r\n* `default['icinga2']['yum']['baseurl']` (default: ``):\r\n\r\n* `default['icinga2']['apt']['repo']` (default: `ICINGA Stable Release`):\r\n\r\n* `default['icinga2']['apt']['uri']` (default: `http://ppa.launchpad.net/formorer/icinga/ubuntu`):\r\n\r\n* `default['icinga2']['apt']['distribution']` (default: `node['lsb']['codename']`):\r\n\r\n* `default['icinga2']['apt']['keyserver']` (default: `keyserver.ubuntu.com`):\r\n\r\n* `default['icinga2']['apt']['components']` (default: `[main]`):\r\n\r\n* `default['icinga2']['apt']['deb_src']` (default: `true`):\r\n\r\n* `default['icinga2']['apt']['repo_key']` (default: `http://packages.icinga.org/icinga.key`):\r\n\r\n* `default['icinga2']['apt']['action']` (default: `:add`):\r\n\r\n\r\n## Cookbook Classic UI CGI Core Attributes\r\n\r\n* `default['icinga2']['classic_ui']['version']` (default: `2.2.2-1`): icinga2 classic-ui package version\r\n\r\n* `default['icinga2']['classic_ui']['gui_version']` (default: `1.12.0-0`): icinga2 gui package version\r\n\r\n* `default['icinga2']['classic_ui']['web_root']` (default: `/usr/share/icinga`): icinga2 web doc root directory location\r\n\r\n* `default['icinga2']['classic_ui']['home_dir']` (default: `/etc/icinga`): icinga2 classic ui configuration home directory location\r\n\r\n* `default['icinga2']['classic_ui']['conf_dir']` (default: `/etc/icinga`): icinga2 classic ui configuration directory location\r\n\r\n* `default['icinga2']['classic_ui']['log_dir']` (default: `/var/log/icinga`): icinga2 classic ui log directory location\r\n\r\n* `default['icinga2']['classic_ui']['cgi_log_dir']` (default: `/var/log/icinga/gui`): icinga2 gui log directory location\r\n\r\n\r\n## Cookbook Classic UI CGI User Access Attributes\r\n\r\n* `default['icinga2']['classic_ui']['users']` (default: `{ 'icingaadmin' => '$apr1$MZtKRLAy$AV9OiJ.V/mI9g30bHn9ol1' }`): Hash List of user => password (md5) for class ui access\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_system_information']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for system information\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_configuration_information']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for configuration information\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_full_command_resolution']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for full command resolution\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_system_commands']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for system commands\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_all_services']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all services\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_all_hosts']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all hosts\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_all_service_commands']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all service commands\r\n\r\n* `default['icinga2']['classic_ui']['authorized_for_all_host_commands']` (default: `[node['icinga2']['admin_user']]`): Array list of users authorized for all host commands\r\n\r\n\r\n## Cookbook Classic UI CGI Configuration Attributes\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['standalone_installation']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['physical_html_path']` (default: `/usr/share/icinga`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['url_html_path']` (default: `/icinga`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['url_stylesheets_path']` (default: `/icinga/stylesheets`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['http_charset']` (default: `utf-8`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['refresh_rate']` (default: `60`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['refresh_type']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['escape_html_tags']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['result_limit']` (default: `50`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['show_tac_header']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['use_pending_states']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['first_day_of_week']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['suppress_maintenance_downtime']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['action_url_target']` (default: `main`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['notes_url_target']` (default: `main`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['use_authentication']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['use_ssl_authentication']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['lowercase_user_name']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_system_information']` (default: `node['icinga2']['classic_ui']['authorized_for_system_information'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_configuration_information']` (default: `node['icinga2']['classic_ui']* ['authorized_for_configuration_information'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_full_command_resolution']` (default: `node['icinga2']['classic_ui']['authorized_for_full_command_resolution'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_system_commands']` (default: `node['icinga2']['classic_ui']['authorized_for_system_commands'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_services']` (default: `node['icinga2']['classic_ui']['authorized_for_all_services'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_hosts']` (default: `node['icinga2']['classic_ui']['authorized_for_all_hosts'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_service_commands']` (default: `node['icinga2']['classic_ui']['authorized_for_all_service_commands'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['authorized_for_all_host_commands']` (default: `node['icinga2']['classic_ui']['authorized_for_all_host_commands'].join(',')`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['show_all_services_host_is_authorized_for']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['show_partial_hostgroups']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['show_partial_servicegroups']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['default_statusmap_layout']` (default: `5`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['status_show_long_plugin_output']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['display_status_totals']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['highlight_table_rows']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['add_notif_num_hard']` (default: `28`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['add_notif_num_soft']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['use_logging']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['cgi_log_file']` (default: `node['icinga2']['classic_ui']['cgi_log_dir']/icinga-cgi.log`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['cgi_log_rotation_method']` (default: `d`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['cgi_log_archive_path']` (default: `node['icinga2']['classic_ui']['cgi_log_dir']`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['enforce_comments_on_actions']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['send_ack_notifications']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['persistent_ack_comments']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['lock_author_names']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['default_downtime_duration']` (default: `7200`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['set_expire_ack_by_default']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['default_expiring_acknowledgement_duration']` (default: `86_400`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['default_expiring_disabled_notifications_duration']` (default: `86_400`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['tac_show_only_hard_state']` (default: `0`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['show_tac_header_pending']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['exclude_customvar_name']` (default: `PASSWORD,COMMUNITY`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['exclude_customvar_value']` (default: `secret`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['extinfo_show_child_hosts']` (default: `)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['tab_friendly_titles']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['object_cache_file']` (default: `/var/cache/icinga2/objects.cache`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['status_file']` (default: `node['icinga2']['cache_dir']/status.dat`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['resource_file']` (default: `node['icinga2']['classic_ui']['conf_dir']/resource.cfg`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['command_file']` (default: `node['icinga2']['run_dir']/cmd/icinga2.cmd`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['check_external_commands']` (default: `1`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['interval_length']` (default: `60`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['status_update_interval']` (default: `10`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['log_file']` (default: `node['icinga2']['log_dir']/compat/icinga.log`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['log_rotation_method']` (default: `h`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['log_archive_path']` (default: `node['icinga2']['log_dir']/compat/archives`)\r\n\r\n* `default['icinga2']['classic_ui']['cgi']['date_format']` (default: `us`)\r\n\r\n\r\n## Cookbook Dependencies\r\n\r\n* `ulimit` cookbook\r\n* `apache2` cookbook\r\n* `yum` cookbook\r\n* `apt` cookbook\r\n* `pnp4nagios` cookbook\r\n\r\n\r\n## Contributing\r\n\r\n1. Fork the repository on Github\r\n2. Create a named feature branch (like `add_component_x`)\r\n3. Write your change\r\n4. Write tests for your change (if applicable)\r\n5. Run the tests (`rake`), ensuring they all pass\r\n6. Write new resource/attribute description to `README.md`\r\n7. Write description about changes to PR\r\n8. Submit a Pull Request using Github\r\n\r\n\r\n## Copyright & License\r\n\r\nAuthors:: Virender Khatri and [Contributors]\r\n\r\n<pre>\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n</pre>\r\n\r\n\r\n[Icinga2]: https://www.icinga.org/\r\n[Chef]: https://www.chef.io/\r\n[Contributors]: https://github.com/vkhatri/chef-icinga2/graphs/contributors\r\n[Install]: https://github.com/icinga/icinga2/\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}